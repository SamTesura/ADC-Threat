<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ADC Threat Lookup — CC First (25.16)</title>
  <link rel="stylesheet" href="./styles.css" />
  <link rel="preconnect" href="https://ddragon.leagueoflegends.com">
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <img class="brand-logo" src="https://raw.githubusercontent.com/simple-icons/simple-icons/develop/icons/riotgames.svg" alt="">
      <div>
        <h1>ADC Threat Lookup — CC First</h1>
        <p class="tagline">Pick your ADC → type 5 enemy + 4 ally champs. We prioritize <b>CC</b> over everything: <em>Hard CC</em> (non-cleanse) vs <em>Soft CC</em> (cleanseable).</p>
      </div>
    </div>

    <div class="legend">
      <span class="tag hard">Hard CC</span>
      <span class="tag soft">Soft CC</span>
      <span class="badge cleanse">Cleanse</span>
      <span class="sep">|</span>
      <span class="tag peel">Shield/Peel</span>
      <span class="tag gap">Gap Close</span>
      <span class="tag burst">Burst</span>
      <span class="tag poke">Poke/Zone</span>
    </div>

    <div class="view-toggles">
      <label class="switch-compact">
        <input id="toggleCompact" type="checkbox" />
        <span>Compact mode</span>
      </label>
    </div>
  </header>

  <main class="viewport-fit">
    <!-- Step 1: ADC picker (required) -->
    <section class="adc-select-panel" id="adcPanel">
      <h2>Choose your ADC</h2>
      <p class="muted">You can’t search champions until you pick your ADC.</p>
      <div id="adcGrid" class="adc-grid"></div>
    </section>

    <!-- Lock overlay (disabled until ADC chosen) -->
    <div id="lockOverlay" class="lock-overlay">
      <div class="lock-card">
        <h3>Pick your ADC first</h3>
        <p>Select your marksman above to enable champion search.</p>
      </div>
    </div>

    <!-- Step 2: team inputs -->
    <section class="team">
      <h2>Enemy Team <span>(5)</span></h2>
      <div id="enemyInputs" class="search-grid"></div>
    </section>

    <section class="team">
      <h2>Allied Team <span>(4)</span></h2>
      <div id="allyInputs" class="search-grid"></div>
    </section>

    <section class="results results-table">
      <h2>Results (CC prioritized)</h2>
      <div id="tableWrap" class="table-wrap">
        <table id="resultsTable" class="threat-table">
          <thead>
            <tr>
              <th class="group">Group</th>
              <th class="champ">Champion</th>
              <th class="role">Role</th>
              <th class="passive">Passive (ADC)</th>
              <th class="abilities">Abilities • CDs • CC</th>
              <th class="threats">CC & Tags</th>
              <th class="notes">ADC Tip</th>
            </tr>
          </thead>
          <tbody id="resultsBody"></tbody>
        </table>
        <div id="emptyState" class="empty small">
          Pick your ADC above, then type champion names. Ability pills are colored by <b>Hard/Soft CC</b> first; Soft CC shows a <span class="badge cleanse">Cleanse</span> badge.
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer tight">
    <div class="left">
      <button id="openEditor" class="btn btn-outline">Edit / Paste Data</button>
      <button id="exportData" class="btn btn-ghost">Export JSON</button>
      <input id="importFile" type="file" accept="application/json" hidden />
      <button id="importData" class="btn btn-ghost">Import JSON</button>
      <button id="buildCDragon" class="btn">Build champions.json (CDragon)</button>
    </div>
    <div class="right">
      <span>Patch 25.16 • Images © Riot</span>
    </div>
  </footer>

  <!-- Data Editor Modal -->
  <dialog id="editorModal">
    <form method="dialog" class="editor">
      <header>
        <h3>Champion Data Editor</h3>
        <button class="btn btn-ghost" value="cancel" aria-label="Close">✕</button>
      </header>
      <p class="editor-hint">Paste/modify JSON matching the app schema.</p>
      <textarea id="editorArea" spellcheck="false"></textarea>
      <menu>
        <button class="btn btn-ghost" value="cancel">Cancel</button>
        <button id="saveEditor" class="btn" value="default">Save</button>
      </menu>
    </form>
  </dialog>

  <script src="./app.js"></script>
  <script src="./build-from-cdragon.js"></script>
</body>
</html>
