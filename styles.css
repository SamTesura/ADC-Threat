:root{
  --bg:#0b0f14; --panel:#0f141b; --panel-2:#0c1117; --panel-3:#0a0f15;
  --gold:#c8aa6e; --gold-2:#9c7c4a; --text:#e5e9f0; --muted:#9aa4b2; --border:#1b2430;

  /* Threat palette (CC first) */
  --hard:#e53e3e;    /* Hard CC (displacements/airborne, etc.) */
  --soft:#f6e05e;    /* Soft CC (Cleanse/QSS removable) */
  --peel:#ed8936;    /* Shields, DR, cleanse ults */
  --gap:#2f855a;     /* Dashes, lunges, teleports to target */
  --burst:#805ad5;   /* Executes, nukes, big ults */
  --poke:#3182ce;    /* Zoning, turrets, AoE fields */

  --cleanse:#68d391; /* Badge for cleanseable (soft) CC */
  --radius:14px; --shadow:0 10px 26px rgba(0,0,0,.35);
}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;background:radial-gradient(1200px 800px at 10% -10%, #101826 0%, #0b0f14 55%);color:var(--text);font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,sans-serif}

/* Header */
.site-header{padding:12px 16px;border-bottom:1px solid var(--border);background:linear-gradient(180deg, rgba(11,15,20,.95), rgba(11,15,20,.80));backdrop-filter: blur(5px)}
.brand{display:flex;gap:12px;align-items:center}
.brand-logo{width:28px;opacity:.9;filter:invert(100%) saturate(0%) brightness(200%)}
h1{margin:0;font-size:22px;letter-spacing:.5px;color:var(--gold);text-transform:uppercase}
.tagline{margin:2px 0 0;color:var(--muted);font-size:16px}

/* Legend */
.legend{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px;align-items:center}
.legend .sep{opacity:.35;margin:0 6px}
.tag{border:1px solid var(--border);padding:2px 8px;border-radius:999px;font-size:11px;background:var(--panel)}
.tag.hard{background:var(--hard);color:#fff}
.tag.soft{background: var(--soft);color: #111}
.tag.peel{background:var(--peel);color:#fff}
.tag.gap{background:var(--gap);color:#fff}
.tag.burst{background:var(--burst);color:#fff}
.tag.poke{background:var(--poke);color:#fff}
.badge.cleanse{background:var(--cleanse);color:#0b0f14;border-radius:10px;padding:1px 6px;font-size:11px;border:1px solid #2c6f3e}

/* Toggles */
.view-toggles{margin-top:6px;display:flex;align-items:center;gap:16px;flex-wrap:wrap}
.switch-compact{display:inline-flex;align-items:center;gap:8px;font-size:12px;color:var(--muted)}
.switch-compact input{accent-color:var(--gold)}

/* Layout */
.viewport-fit{min-height:calc(100vh - 120px);display:grid;grid-template-rows:auto auto auto 1fr;gap:12px;padding:12px}
.team h2,.results h2{margin:0 0 6px 0;color:var(--gold);font-size:14px;text-transform:uppercase;letter-spacing:.4px}

/* ADC picker */
.adc-select-panel{border:1px solid var(--border);border-radius:14px;background:linear-gradient(180deg,var(--panel),var(--panel-2));box-shadow:var(--shadow);padding:12px}
.adc-select-panel h2{margin:0 0 6px 0;color:var(--gold)}
.adc-select-panel .muted{color:var(--muted);font-size:12px;margin:0 0 8px 0}
.adc-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(84px,1fr));gap:10px}
.adc-card{position:relative;border:1px solid var(--border);border-radius:12px;background:var(--panel-3);overflow:hidden;cursor:pointer;transition:transform .12s ease, border-color .12s ease; padding: 0;} /* Added padding 0 for button reset */
.adc-card:hover{transform:translateY(-2px);border-color:#2b415f}
.adc-card.selected{outline:2px solid var(--gold)}
.adc-card img{width:100%;height:84px;object-fit:cover;display:block}
.adc-card .label{position:absolute;left:6px;bottom:6px;background:rgba(255, 255, 255, 0.55);backdrop-filter:blur(4px);padding:2px 6px;border-radius:8px;font-size:12px; color: #000;} /* Ensure text color contrasts */

/* Inputs */
.search-grid{display:grid;gap:8px}
#enemyInputs{grid-template-columns:repeat(5,minmax(0,1fr))}
#allyInputs{grid-template-columns:repeat(4,minmax(0,1fr))}
.search{background:linear-gradient(180deg,var(--panel),var(--panel-2));border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:6px;position:relative}
.search input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0b1117;color:#fff;font-size:13px}
.suggestions{position:absolute;left:6px;right:6px;top:calc(100% + 2px);background:#0b1117;border:1px solid var(--border);border-radius:12px;max-height:260px;overflow:auto;display:none;z-index:20; padding: 4px;} /* Added padding */
.suggestions.show{display:block}
.suggestions button{width:100%;text-align:left;background:transparent;color:#fff;border:0;padding:10px 12px;cursor:pointer;font-size:13px; display: flex; align-items: center; gap: 6px;} /* Added flex for alignment */
.suggestions button:hover{background:#101825}
/* Added style for suggestion image based on JS */
.suggestions button img { width: 18px; height: auto; vertical-align: middle; margin-right: 6px; border-radius: 3px;}

/* Lock overlay (until ADC is chosen) */
/* The div itself */
.lock-overlay{position:relative;}
/* The blurring/dimming ::before pseudo-element */
.lock-overlay::before{
  content:"";position:absolute;inset:0;border-radius:14px;background:rgba(7,10,14,.55);backdrop-filter: blur(2px);z-index:4;display:none; /* Hidden by default */
  pointer-events: none; /* Allow clicks through initially */
}
/* The text card */
.lock-overlay .lock-card{display:none;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:5;background:rgba(10,15,20,.9);border:1px solid var(--border);border-radius:12px;padding:10px 14px;text-align:center;max-width:320px}

/* When the parent .lock-overlay has .lock-active */
.lock-active.lock-overlay::before{display:block; pointer-events: auto;} /* Show blur and block clicks */
.lock-active.lock-overlay .lock-card{display:block} /* Show text */


/* Table */
.results-table{min-height:0}
.table-wrap{height:100%;min-height:0;border:1px solid var(--border);border-radius:14px;background:linear-gradient(180deg,var(--panel),var(--panel-2));box-shadow:var(--shadow);padding:8px;display:flex;flex-direction:column;overflow:hidden}
.threat-table{width:100%;border-collapse:separate;border-spacing:0 8px;font-size:12.5px;table-layout:fixed}
.threat-table thead th{position:sticky;top:0;background:var(--panel); /* Give TH a background */ color:var(--muted);font-weight:600;font-size:11px;text-transform:uppercase;letter-spacing:.5px;text-align:left;padding:6px 8px; z-index: 10;} /* Ensure TH stays on top */
.threat-table tbody tr{background:#0b1117;border:1px solid var(--border)}
.threat-table tbody tr td{padding:8px;vertical-align:top; border-bottom: 1px solid var(--border); border-top: 1px solid var(--border);} /* Add top/bottom borders */
.threat-table tbody tr td:first-child { border-left: 1px solid var(--border); border-top-left-radius: 12px; border-bottom-left-radius: 12px;} /* Left border + radius */
.threat-table tbody tr td:last-child { border-right: 1px solid var(--border); border-top-right-radius: 12px; border-bottom-right-radius: 12px;} /* Right border + radius */

.threat-table .group{width:74px;color:#cbd5e1; text-align: center; font-weight: bold;} /* Centered Group text */
.threat-table .champ{width:200px}
.threat-table .role{width:100px;color:#9aa4b2}
.threat-table .passive{width:240px;color:#dbe2ea; font-size: 11.5px; line-height: 1.4;} /* Slightly smaller passive text */
.threat-table .abilities{width:auto}
.threat-table .threats{width:140px}
.threat-table .notes{width:280px;color:#dbe2ea; font-size: 11.5px; line-height: 1.4;} /* Consistent notes styling */
/* Added: Support Synergy column width (same as notes) */
.threat-table .support-synergy{width:280px;}


.row{border-radius:12px;overflow:hidden} /* Applied via border-radius on TD now */
.cell-champ{display:flex;gap:10px;align-items:center}
.portrait-sm{width:32px;height:32px;border-radius:8px;border:1px solid #333;object-fit:cover;background:#0b0f14; flex-shrink: 0;} /* Added flex-shrink */

/* Ability pills — CC first */
.ability-pills{display:flex;flex-wrap:wrap;gap:6px}
.pill{border:1px solid #233044;background:#0a121d;border-radius:10px;padding:3px 8px;display:inline-flex;gap:8px;align-items:center;white-space:nowrap;color:#e5e9f0; font-size: 11px;} /* Slightly smaller pill text */
.pill b{font-weight:800;opacity:.95}
.pill .cds{font-family:ui-monospace,Consolas,monospace;opacity:.95; font-size: 10.5px;} /* Smaller CD text */
.pill.hard { background: var(--hard);   color:#fff;  border-color:transparent;}
.pill.soft { background: var(--soft);   color:#111; border-color:transparent;}
.pill.peel { background: var(--peel);   color:#fff;  border-color:transparent;}
.pill.gap  { background: var(--gap);    color:#fff;  border-color:transparent;}
.pill.burst{ background: var(--burst); color:#fff;  border-color:transparent;}
.pill.poke { background: var(--poke);   color:#fff;  border-color:transparent;}

/* Style for the mini-badge container if you use one */
.pill .mini-badge { display: inline-flex; margin-left: 4px;}

/* Cleanse badge specific style */
.pill .badge.cleanse{background:var(--cleanse);color:#0b0f14;border:1px solid #2c6f3e;border-radius:7px;padding:0 6px;font-size:10px;line-height:16px}
.pill .tlabel{font-size:10px;opacity:.9;padding:1px 6px;border-radius:6px;background:rgba(0,0,0,.12)}
.pill.soft .tlabel{background:rgba(0,0,0,.08)}

/* Threat chips — keep color (CC first) */
.tags-mini{display:flex;flex-wrap:wrap;gap:4px}
.tags-mini .tag{padding:2px 8px;font-size:10.5px;border-radius:999px;border:1px solid var(--border)}
.tags-mini .tag.hard{background:var(--hard);color:#fff;border-color:transparent}
.tags-mini .tag.soft{background:var(--soft);color:#111;border-color:transparent}
.tags-mini .tag.peel{background:var(--peel);color:#fff;border-color:transparent}
.tags-mini .tag.gap{background:var(--gap);color:#fff;border-color:transparent}
.tags-mini .tag.burst{background:var(--burst);color:#fff;border-color:transparent}
.tags-mini .tag.poke{background:var(--poke);color:#fff;border-color:transparent}

/* Footer */
.site-footer.tight{padding:10px 16px;border-top:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;gap:10px}
.btn{padding:9px 12px;border-radius:10px;border:1px solid var(--gold-2);background:transparent;color:#c8aa6e;cursor:pointer;font-size:12px; transition: background-color 0.15s ease, color 0.15s ease;} /* Added transition */
.btn:hover { background-color: var(--gold-2); color: var(--panel); } /* Basic hover */
.btn-ghost{border-color:var(--border);color:var(--muted)}
.btn-ghost:hover { background-color: var(--border); color: var(--text); }
.btn-outline{border-color:var(--gold);color:var(--gold)}
.btn-outline:hover { background-color: var(--gold); color: var(--panel); }


/* Compact mode */
body.compact-mode .threat-table{font-size:11.5px}
body.compact-mode .threat-table thead th{font-size:10px}
body.compact-mode .notes{display:none} /* Hides ADC Tip column */
body.compact-mode .support-synergy{display:none} /* Hides Support Synergy column */
body.compact-mode .passive{display:none} /* Hide passive in compact mode */
body.compact-mode .threat-table .champ { width: 150px; } /* Adjust width */
body.compact-mode .threat-table .role { width: 70px; } /* Adjust width */

body.compact-mode .pill{padding:2px 6px}
body.compact-mode .pill .cds{font-size:11px}
body.compact-mode .pill .tlabel { display: none; } /* Hide text label in compact */
body.compact-mode .pill .mini-badge { display: none; } /* Hide cleanse badge in compact */


/* Empty State styling */
.empty { display: block; padding: 30px; text-align: center; color: var(--muted); font-size: 13px; }
.empty.small { font-size: 12px; padding: 15px; } /* Match usage in HTML */
.empty strong { color: var(--gold); }
.table-wrap .empty { border-top: 1px solid var(--border); margin-top: -8px;} /* Style when inside table wrap */

/* Added: Modal Styles (Basic - Enhance as needed) */
dialog#editorModal {
    border: 1px solid var(--border);
    border-radius: var(--radius);
    background: var(--panel-2);
    color: var(--text);
    box-shadow: var(--shadow);
    padding: 0; /* Remove default padding */
    max-width: 600px;
    width: 90%;
}
dialog#editorModal::backdrop {
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(3px);
}
dialog#editorModal form.editor {
    display: flex;
    flex-direction: column;
    padding: 16px;
    gap: 12px;
}
dialog#editorModal header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--border);
    padding-bottom: 8px;
}
dialog#editorModal header h3 {
    margin: 0; color: var(--gold); font-size: 1.1em;
}
dialog#editorModal .editor-hint {
    font-size: 0.9em; color: var(--muted); margin: 0;
}
dialog#editorModal textarea#editorArea {
    width: 100%;
    min-height: 300px;
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text);
    font-family: ui-monospace, Consolas, monospace;
    font-size: 0.85em;
    padding: 8px;
    resize: vertical;
}
dialog#editorModal menu {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    padding: 0;
    margin-top: 10px;
}


/* Responsive */
@media (max-width: 1200px){
  .threat-table{table-layout:auto} /* Allow table to resize */
  .threat-table .champ{width:180px}
  .threat-table .role{width:84px}
  .threat-table .passive{width:220px}
  .threat-table .threats{width:120px}
  .threat-table .notes{width:220px}
  .threat-table .support-synergy{width:220px} /* Match notes width */
}
@media (max-width: 1024px){
  #enemyInputs{grid-template-columns:repeat(3,minmax(0,1fr))}
  #allyInputs{grid-template-columns:repeat(2,minmax(0,1fr))}
  .table-wrap{overflow-x: auto;} /* Ensure horizontal scroll */
  .threat-table{min-width:1120px} /* Adjust min-width if needed */
}
@media (max-width: 700px){
  #enemyInputs,#allyInputs{grid-template-columns:repeat(2,minmax(0,1fr))}
   h1 { font-size: 18px;}
   .tagline { font-size: 14px;}
   .legend { display: none; } /* Hide legend on small screens */
}
@media (max-width: 520px){
  #enemyInputs,#allyInputs{grid-template-columns:1fr}
  .site-header { padding: 8px 12px; }
  .brand { gap: 8px;}
  h1 { font-size: 16px;}
  .tagline { font-size: 12px; }
  .adc-grid { gap: 6px; grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));}
  .adc-card img { height: 60px;}
  .adc-card .label { font-size: 10px; padding: 1px 4px; left: 4px; bottom: 4px;}
  .threat-table { font-size: 11px; border-spacing: 0 4px;}
  .threat-table td, .threat-table th { padding: 4px 6px;}
  .portrait-sm { width: 24px; height: 24px; border-radius: 4px;}
  .cell-champ { gap: 6px;}
  .pill { padding: 2px 6px; gap: 4px; font-size: 10px;}
  .pill b { font-weight: 600;}
  .pill .cds { font-size: 9px;}
  .tags-mini .tag { padding: 1px 6px; font-size: 9px;}
  .btn { padding: 6px 10px; font-size: 11px;}
  .site-footer.tight { flex-direction: column; gap: 8px; padding: 8px 12px;}
}

/* Added: Hidden class utility */
.hidden {
    display: none !important;
}
